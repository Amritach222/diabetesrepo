"use strict";(self.webpackChunkdiabetestrackerapp=self.webpackChunkdiabetestrackerapp||[]).push([[851],{82851:function(e,a,t){t.r(a);var n=t(74165),i=t(15861),s=t(70885),r=t(72791),l=t(78983),o=t(75985),d=t(511),c=t(24846),u=t(74569),m=t.n(u),g=(t(5462),t(80184));a.default=function(){var e=(0,r.useState)(""),a=(0,s.Z)(e,2),t=a[0],u=a[1],p=(0,r.useState)(""),h=(0,s.Z)(p,2),f=h[0],v=h[1],x=(0,r.useState)(""),j=(0,s.Z)(x,2),b=j[0],w=j[1],k=(0,r.useState)(""),y=(0,s.Z)(k,2),N=y[0],C=y[1],S=(0,r.useState)(""),Z=(0,s.Z)(S,2),_=Z[0],I=Z[1],L=(0,r.useState)({preview:"",data:""}),V=(0,s.Z)(L,2),E=V[0],O=V[1];(0,r.useEffect)((function(){var e=window.localStorage.getItem("userId");m().put("http://localhost:3001/api/users/getprofile",{id:e}).then((function(e){if(e.data.data){var a=e.data.data.image.substr(7);O({preview:"http://localhost:3001/"+a}),u(e.data.data.fullname),v(e.data.data.name),w(e.data.data.age),C(e.data.data.weight),I(e.data.data.email)}})).catch((function(e){console.log("Something went wrong",e)}))}),[]);var q=(0,r.useState)(!1),D=(0,s.Z)(q,2),U=D[0],R=D[1],A=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var t,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=window.localStorage.getItem("userId"),(i=new FormData).append("profileImage",E.data),i.append("username",f),i.append("age",b),i.append("weight",N),i.append("email",_),i.append("id",t),!1!==a.currentTarget.checkValidity()){e.next=15;break}a.preventDefault(),a.stopPropagation(),e.next=22;break;case 15:return v(a.target.username.value),w(a.target.age.value),C(a.target.weight.value),I(a.target.email.value),console.log(b),e.next=22,m().post("http://localhost:3001/api/users/updateuser",i).then((function(e){e.data.message?(0,o.Am)(e.data.message):console.log("something went wrong")})).catch((function(e){console.log("error occured",e.message)}));case 22:R(!0);case 23:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{children:[(0,g.jsx)(o.Ix,{}),(0,g.jsx)(l.xH,{children:(0,g.jsx)(l.sl,{children:(0,g.jsxs)("div",{className:"card_container d-flex justify-content-around flex-wrap",children:[(0,g.jsxs)("div",{className:"card_container_left mt-4  ",children:[(0,g.jsx)("div",{className:"position-relative mb-2",children:(0,g.jsx)(l.DW,{rounded:!0,src:E.preview,width:200,height:200})}),(0,g.jsx)("p",{className:"ms-5",children:(0,g.jsx)("b",{children:t})})]}),(0,g.jsxs)("div",{className:"card_container_right",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center ms-1",children:[(0,g.jsx)("b",{children:" Update your profile"})," ",(0,g.jsx)(c.Z,{className:"ms-1",style:{background:"lightgray",borderRadius:"50%",color:"green",padding:"1px"},icon:d.l})]}),(0,g.jsx)(l.uS,{children:(0,g.jsx)(l.xH,{className:"p-4",children:(0,g.jsxs)(l.lx,{encType:"multipart/form-data",className:"row g-3 needs-validation",noValidate:!0,validated:U,onSubmit:A,children:[(0,g.jsx)("div",{className:"name_container",children:(0,g.jsx)(l.jO,{value:f,contentEditable:!0,type:"text",name:"username",feedbackValid:"Looks good!",id:"validationCustom01",label:"Username",onChange:function(e){!function(e){v(e.target.value)}(e)},required:!0,disabled:!0})}),(0,g.jsxs)("div",{className:"age_container",children:[(0,g.jsx)(l.jO,{value:b,contentEditable:!0,type:"number",name:"age",feedbackValid:"Looks good!",id:"validationCustom01",label:"Age",onChange:function(e){!function(e){w(e.target.value)}(e)},required:!0}),(0,g.jsx)("div",{className:"weight_container",children:(0,g.jsx)(l.jO,{value:N,contentEditable:"true",type:"number",name:"weight",feedbackValid:"Looks good!",id:"validationCustom01",label:"Weight",onChange:function(e){!function(e){C(e.target.value)}(e)},required:!0})}),(0,g.jsx)("div",{className:"email_container",children:(0,g.jsx)(l.jO,{value:_,type:"email",name:"email",contentEditable:"true",feedbackValid:"Looks good!",id:"validationCustom01",label:"Email",onChange:function(e){!function(e){I(e.target.value)}(e)},required:!0})}),(0,g.jsx)("div",{className:"image_container",children:(0,g.jsx)(l.jO,{style:{border:"none"},type:"file",name:"profileImage",feedbackValid:"Looks good!",id:"validationCustom01",label:"Choose your profile image",onChange:function(e){!function(e){var a={preview:URL.createObjectURL(e.target.files[0]),data:e.target.files[0]};O(a)}(e)},required:!0})}),(0,g.jsx)("div",{className:"mt-2 float-end",children:(0,g.jsx)(l.u5,{color:"success",type:"submit",variant:"outline",children:"Save Changes"})})]})]})})})]})]})})})]})}}}]);
//# sourceMappingURL=851.ebc4da55.chunk.js.map