"use strict";(self.webpackChunkdiabetestrackerapp=self.webpackChunkdiabetestrackerapp||[]).push([[621],{6858:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var n=t(74165),i=t(15861),r=t(70885),s=t(72791),o=t(78983),l=t(9085),d=t.p+"static/media/pexels-tom\xe9-louro-1666779.4be8b24cc0d6c703fcb4.jpg",c=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"],u=t(24846),m=t(74569),g=t.n(m),p=(t(5462),t(80184)),h=function(){var e=(0,s.useState)(""),a=(0,r.Z)(e,2),t=a[0],m=a[1],h=(0,s.useState)(""),f=(0,r.Z)(h,2),v=f[0],x=f[1],j=(0,s.useState)(""),b=(0,r.Z)(j,2),w=b[0],k=b[1],y=(0,s.useState)(""),C=(0,r.Z)(y,2),N=C[0],Z=C[1],S=(0,s.useState)({preview:"",data:""}),_=(0,r.Z)(S,2),L=_[0],I=_[1];(0,s.useEffect)((function(){var e=window.localStorage.getItem("userId");g().put("http://localhost:3001/api/users/getprofile",{id:e}).then((function(e){if(e.data.data){var a=e.data.data.image.substr(7);I({preview:"http://localhost:3001/"+a}),m(e.data.data.name),x(e.data.data.age),k(e.data.data.weight),Z(e.data.data.email)}})).catch((function(e){console.log("Something went wrong",e)}))}),[]);var V=(0,s.useState)(!1),E=(0,r.Z)(V,2),O=E[0],q=E[1],A=(0,s.useState)(d),D=(0,r.Z)(A,2),U=(D[0],D[1],function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var i,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),i=window.localStorage.getItem("userId"),(r=new FormData).append("profileImage",L.data),r.append("username",t),r.append("age",v),r.append("weight",w),r.append("email",N),r.append("id",i),!1===a.currentTarget.checkValidity()&&(a.preventDefault(),a.stopPropagation()),m(a.target.username.value),x(a.target.age.value),k(a.target.weight.value),Z(a.target.email.value),console.log(v),e.next=18,g().post("http://localhost:3001/api/users/updateuser",r).then((function(e){e.data.message?(0,l.Am)(e.data.message):console.log("something went wrong")})).catch((function(e){console.log("error occured",e.message)}));case 18:q(!0);case 19:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());return(0,p.jsxs)("div",{children:[(0,p.jsx)(l.Ix,{}),(0,p.jsx)(o.xH,{children:(0,p.jsx)(o.sl,{children:(0,p.jsxs)("div",{className:"card_container d-flex justify-content-around flex-wrap",children:[(0,p.jsx)("div",{className:"card_container_left mt-4",children:(0,p.jsx)("div",{className:"position-relative",children:(0,p.jsx)(o.DW,{rounded:!0,src:L.preview,width:200,height:200})})}),(0,p.jsxs)("div",{className:"card_container_right",children:[(0,p.jsxs)("div",{className:"d-flex align-items-center ms-1",children:[(0,p.jsx)("b",{children:" Update your profile"})," ",(0,p.jsx)(u.Z,{className:"ms-1",style:{background:"lightgray",borderRadius:"50%",color:"green",padding:"1px"},icon:c})]}),(0,p.jsx)(o.uS,{children:(0,p.jsx)(o.xH,{className:"p-4",children:(0,p.jsxs)(o.lx,{encType:"multipart/form-data",className:"row g-3 needs-validation",noValidate:!0,validated:O,onSubmit:U,children:[(0,p.jsx)("div",{className:"name_container",children:(0,p.jsx)(o.jO,{value:t,contentEditable:!0,type:"text",name:"username",feedbackValid:"Looks good!",id:"validationCustom01",label:"Username",onChange:function(e){!function(e){m(e.target.value)}(e)},required:!0})}),(0,p.jsxs)("div",{className:"age_container",children:[(0,p.jsx)(o.jO,{value:v,contentEditable:!0,type:"number",name:"age",feedbackValid:"Looks good!",id:"validationCustom01",label:"Age",onChange:function(e){!function(e){x(e.target.value)}(e)},required:!0}),(0,p.jsx)("div",{className:"weight_container",children:(0,p.jsx)(o.jO,{value:w,contentEditable:"true",type:"number",name:"weight",feedbackValid:"Looks good!",id:"validationCustom01",label:"Weight",onChange:function(e){!function(e){k(e.target.value)}(e)},required:!0})}),(0,p.jsx)("div",{className:"email_container",children:(0,p.jsx)(o.jO,{value:N,type:"email",name:"email",contentEditable:"true",feedbackValid:"Looks good!",id:"validationCustom01",label:"Email",onChange:function(e){!function(e){Z(e.target.value)}(e)},required:!0})}),(0,p.jsx)("div",{className:"image_container",children:(0,p.jsx)(o.jO,{style:{border:"none"},type:"file",name:"profileImage",feedbackValid:"Looks good!",id:"validationCustom01",label:"Choose your profile image",onChange:function(e){!function(e){var a={preview:URL.createObjectURL(e.target.files[0]),data:e.target.files[0]};I(a)}(e)},required:!0})}),(0,p.jsx)("div",{className:"mt-2 float-end",children:(0,p.jsx)(o.u5,{color:"success",type:"submit",variant:"outline",children:"Save Changes"})})]})]})})})]})]})})})]})}}}]);
//# sourceMappingURL=621.104bf16b.chunk.js.map