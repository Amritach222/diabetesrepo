"use strict";(self.webpackChunkdiabetestrackerapp=self.webpackChunkdiabetestrackerapp||[]).push([[851],{82851:function(e,a,t){t.r(a);var n=t(74165),i=t(15861),r=t(70885),s=t(72791),o=t(78983),l=t(75985),d=t(511),c=t(24846),u=t(74569),m=t.n(u),g=(t(5462),t(80184));a.default=function(){var e=(0,s.useState)(""),a=(0,r.Z)(e,2),t=a[0],u=a[1],p=(0,s.useState)(""),h=(0,r.Z)(p,2),f=h[0],v=h[1],x=(0,s.useState)(""),j=(0,r.Z)(x,2),b=j[0],w=j[1],k=(0,s.useState)(""),y=(0,r.Z)(k,2),C=y[0],N=y[1],Z=(0,s.useState)({preview:"",data:""}),S=(0,r.Z)(Z,2),_=S[0],L=S[1];(0,s.useEffect)((function(){var e=window.localStorage.getItem("userId");m().put("http://localhost:3001/api/users/getprofile",{id:e}).then((function(e){if(e.data.data){var a=e.data.data.image.substr(7);L({preview:"http://localhost:3001/"+a}),u(e.data.data.name),v(e.data.data.age),w(e.data.data.weight),N(e.data.data.email)}})).catch((function(e){console.log("Something went wrong",e)}))}),[]);var I=(0,s.useState)(!1),V=(0,r.Z)(I,2),E=V[0],O=V[1],q=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var i,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),i=window.localStorage.getItem("userId"),(r=new FormData).append("profileImage",_.data),r.append("username",t),r.append("age",f),r.append("weight",b),r.append("email",C),r.append("id",i),!1===a.currentTarget.checkValidity()&&(a.preventDefault(),a.stopPropagation()),u(a.target.username.value),v(a.target.age.value),w(a.target.weight.value),N(a.target.email.value),console.log(f),e.next=18,m().post("http://localhost:3001/api/users/updateuser",r).then((function(e){e.data.message?(0,l.Am)(e.data.message):console.log("something went wrong")})).catch((function(e){console.log("error occured",e.message)}));case 18:O(!0);case 19:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{children:[(0,g.jsx)(l.Ix,{}),(0,g.jsx)(o.xH,{children:(0,g.jsx)(o.sl,{children:(0,g.jsxs)("div",{className:"card_container d-flex justify-content-around flex-wrap",children:[(0,g.jsx)("div",{className:"card_container_left mt-4",children:(0,g.jsx)("div",{className:"position-relative",children:(0,g.jsx)(o.DW,{rounded:!0,src:_.preview,width:200,height:200})})}),(0,g.jsxs)("div",{className:"card_container_right",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center ms-1",children:[(0,g.jsx)("b",{children:" Update your profile"})," ",(0,g.jsx)(c.Z,{className:"ms-1",style:{background:"lightgray",borderRadius:"50%",color:"green",padding:"1px"},icon:d.l})]}),(0,g.jsx)(o.uS,{children:(0,g.jsx)(o.xH,{className:"p-4",children:(0,g.jsxs)(o.lx,{encType:"multipart/form-data",className:"row g-3 needs-validation",noValidate:!0,validated:E,onSubmit:q,children:[(0,g.jsx)("div",{className:"name_container",children:(0,g.jsx)(o.jO,{value:t,contentEditable:!0,type:"text",name:"username",feedbackValid:"Looks good!",id:"validationCustom01",label:"Username",onChange:function(e){!function(e){u(e.target.value)}(e)},required:!0,disabled:!0})}),(0,g.jsxs)("div",{className:"age_container",children:[(0,g.jsx)(o.jO,{value:f,contentEditable:!0,type:"number",name:"age",feedbackValid:"Looks good!",id:"validationCustom01",label:"Age",onChange:function(e){!function(e){v(e.target.value)}(e)},required:!0}),(0,g.jsx)("div",{className:"weight_container",children:(0,g.jsx)(o.jO,{value:b,contentEditable:"true",type:"number",name:"weight",feedbackValid:"Looks good!",id:"validationCustom01",label:"Weight",onChange:function(e){!function(e){w(e.target.value)}(e)},required:!0})}),(0,g.jsx)("div",{className:"email_container",children:(0,g.jsx)(o.jO,{value:C,type:"email",name:"email",contentEditable:"true",feedbackValid:"Looks good!",id:"validationCustom01",label:"Email",onChange:function(e){!function(e){N(e.target.value)}(e)},required:!0})}),(0,g.jsx)("div",{className:"image_container",children:(0,g.jsx)(o.jO,{style:{border:"none"},type:"file",name:"profileImage",feedbackValid:"Looks good!",id:"validationCustom01",label:"Choose your profile image",onChange:function(e){!function(e){var a={preview:URL.createObjectURL(e.target.files[0]),data:e.target.files[0]};L(a)}(e)},required:!0})}),(0,g.jsx)("div",{className:"mt-2 float-end",children:(0,g.jsx)(o.u5,{color:"success",type:"submit",variant:"outline",children:"Save Changes"})})]})]})})})]})]})})})]})}},511:function(e,a,t){t.d(a,{l:function(){return n}});var n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"]}}]);
//# sourceMappingURL=851.7f42c336.chunk.js.map