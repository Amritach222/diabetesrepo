"use strict";(self.webpackChunkdiabetestrackerapp=self.webpackChunkdiabetestrackerapp||[]).push([[836],{57836:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var n=s(70885),a=s(72791),o=s(78983),l=s(24846),i=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='227.313 363.313 312 278.627 396.687 363.313 419.313 340.687 334.627 256 419.313 171.313 396.687 148.687 312 233.373 227.313 148.687 204.687 171.313 289.373 256 204.687 340.687 227.313 363.313' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M472,64H194.644a24.091,24.091,0,0,0-17.42,7.492L16,241.623v28.754L177.224,440.508A24.091,24.091,0,0,0,194.644,448H472a24.028,24.028,0,0,0,24-24V88A24.028,24.028,0,0,0,472,64Zm-8,352H198.084L48,257.623v-3.246L198.084,96H464Z' class='ci-primary'/>"],r=s(65487),c=s(87898),d=s(74569),u=s.n(d),h=s(75985),m=(s(5462),s(80184)),x=function(){var e=localStorage.getItem("userId"),t=(0,a.useState)(""),s=(0,n.Z)(t,2),d=s[0],x=s[1],j=(0,a.useState)(""),f=(0,n.Z)(j,2),g=f[0],p=f[1],v=(0,a.useState)(""),y=(0,n.Z)(v,2),b=y[0],k=y[1],C=(0,a.useState)(""),w=(0,n.Z)(C,2),S=w[0],Z=w[1],N=(0,a.useState)(!1),A=(0,n.Z)(N,2),L=A[0],V=A[1],D=(0,a.useState)(!1),I=(0,n.Z)(D,2),P=I[0],z=I[1],q=(0,a.useState)(!1),O=(0,n.Z)(q,2),H=O[0],Y=O[1],E=(0,a.useState)(""),T=(0,n.Z)(E,2),F=T[0],M=T[1],U=(0,a.useState)(""),W=(0,n.Z)(U,2),_=W[0],Q=W[1],B=(0,a.useState)(""),G=(0,n.Z)(B,2),J=G[0],K=G[1],R=(0,a.useState)(""),X=(0,n.Z)(R,2),$=X[0],ee=X[1],te=(0,a.useState)(""),se=(0,n.Z)(te,2),ne=se[0],ae=se[1],oe=(0,a.useState)(""),le=(0,n.Z)(oe,2),ie=le[0],re=le[1],ce=(0,a.useState)(!1),de=(0,n.Z)(ce,2),ue=de[0],he=de[1],me=(0,a.useState)(!1),xe=(0,n.Z)(me,2),je=xe[0],fe=xe[1],ge=function(e){!1===e.currentTarget.checkValidity()&&(e.preventDefault(),e.stopPropagation()),z(!0)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(h.Ix,{}),(0,m.jsxs)(o.xH,{children:[(0,m.jsxs)(o.bn,{children:[(0,m.jsx)(l.Z,{icon:r.M})," Settings"]}),(0,m.jsxs)(o.sl,{children:[(0,m.jsx)(o.tj,{}),(0,m.jsx)(o.u5,{onClick:function(){V(!L)},color:"warning",variant:"outline",children:"Change Password"}),(0,m.jsx)("br",{}),(0,m.jsxs)("div",{className:L?"":"d-none",children:[(0,m.jsx)("br",{}),(0,m.jsxs)(o.lx,{className:"row g-3 needs-validation d-flex",noValidate:!0,validated:P,onSubmit:ge,children:[(0,m.jsxs)(o.b7,{md:4,children:[(0,m.jsx)(o.jO,{type:"password",feedbackValid:"Looks good!",id:"validationCustom01",label:"Password",required:!0,onChange:function(e){!function(e){e.target.value.length<8?Z("Password must have at least 8 characters."):(Z(""),x(e.target.value))}(e)}}),(0,m.jsx)("small",{style:{color:"red"},children:S})]}),(0,m.jsxs)(o.b7,{md:4,children:[(0,m.jsx)(o.jO,{type:"password",feedbackValid:"Looks good!",id:"validationCustom02",label:"Confirm Password",onChange:function(e){k(e.target.value)},required:!0}),(0,m.jsx)("small",{style:{color:"red"},children:g})]}),(0,m.jsx)(o.b7,{className:"d-flex justify-content-end align-items-center",md:4,children:(0,m.jsx)(o.u5,{className:"",style:{width:"fit-content",height:"fit-content"},color:"info",onClick:function(){""==d&&""==b||d.length>=8&&(d===b?u().put("http://localhost:3001/api/users/updatepassword",{id:e,password:d}).then((function(e){e.data.message&&((0,h.Am)(e.data.message),p(""))})).catch((function(e){console.log("Error Occured",e)})):p("Password must be matched"))},children:"Apply"})})]})]}),(0,m.jsx)("br",{}),(0,m.jsx)(o.u5,{onClick:function(){Y(!H)},color:"primary",variant:"outline",children:"Update your doctor"}),(0,m.jsxs)("div",{className:H?"":"d-none",children:[(0,m.jsx)("br",{}),(0,m.jsxs)(o.lx,{className:"row g-3 needs-validation d-flex",noValidate:!0,validated:P,onSubmit:ge,children:[(0,m.jsx)(o.b7,{md:3,children:(0,m.jsx)(o.jO,{type:"text",value:F,feedbackValid:"Looks good!",id:"validationCustom01",label:"Name",required:!0,onChange:function(e){M(e.target.value)}})}),(0,m.jsxs)(o.b7,{md:3,children:[(0,m.jsx)(o.jO,{type:"email",value:_,feedbackValid:"Looks good!",id:"validationCustom02",label:"Email",onChange:function(e){Q(e.target.value)},required:!0}),(0,m.jsx)("small",{style:{color:"red"},children:$})]}),(0,m.jsxs)(o.b7,{md:3,children:[(0,m.jsx)(o.jO,{type:"number",value:J,feedbackValid:"Looks good!",id:"validationCustom02",label:"Phone",onChange:function(e){K(e.target.value)},required:!0}),(0,m.jsx)("small",{style:{color:"red"},children:ne})]}),(0,m.jsx)(o.b7,{className:"d-flex justify-content-end align-items-center",md:3,children:(0,m.jsx)(o.u5,{className:"",style:{width:"fit-content",height:"fit-content"},color:"info",onClick:function(){""===F||""===_||""===J?re("Fields can't be empty"):(re(""),/[a-zA-Z0-9]+[\.]?([a-zA-Z0-9]+)?[\@][a-z]{3,9}[\.][a-z]{2,5}/g.test(_)?(ee(""),10!==J.length?ae("Phone number must have 10 digit"):(ae(""),u().put("http://localhost:3001/api/doctors/updatedoctor/",{id:e,name:F,email:_,phone:J}).then((function(e){1===e.data.success&&(0,h.Am)(e.data.message)})).catch((function(e){console.log("Error occured",e)})))):ee("Invalid email"))},children:"Apply"})})]}),(0,m.jsx)("small",{style:{color:"red"},children:ie})]}),(0,m.jsx)("br",{}),(0,m.jsxs)("div",{className:"delete_account_container d-flex justify-content-center",children:[(0,m.jsx)("br",{}),(0,m.jsxs)("span",{onClick:function(){he(!ue)},style:{color:"red",cursor:"pointer"},children:[(0,m.jsx)(l.Z,{icon:i})," ",(0,m.jsx)("small",{children:"Delete Account"})]})]}),(0,m.jsxs)(o.Tk,{alignment:"center",visible:ue,onClose:function(){return he(!1)},children:[(0,m.jsx)(o.sD,{children:(0,m.jsxs)("div",{className:"text-danger d-flex justify-content-center flex-column",children:[(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)(l.Z,{className:"text-center",icon:c.D})}),(0,m.jsx)("span",{style:{fontSize:"13px"},className:"text-center",children:"  Are you sure you want to delete your whole account?\n\n                You'll lose everything. Usernames,\n themes, the love we shared, likes messages,\n\n                and everything you've ever posted will be gone forever. "})]})}),(0,m.jsxs)(o.Ym,{children:[(0,m.jsx)(o.u5,{color:"secondary",onClick:function(){return he(!1)},children:"Close"}),(0,m.jsx)(o.u5,{onClick:function(){u().put("http://localhost:3001/api/users/getprofile",{id:e}).then((function(t){if(t.data.data){var s=t.data.data.name;console.log(s),u().put("http://localhost:3001/api/users/deleteaccount/",{id:e,username:s}).then((function(e){e.data.message?((0,h.Am)("Deleted"),he(!1),fe(!0),localStorage.removeItem("userId")):(0,h.Am)("Something went wrong ")}))}else(0,h.Am)("unable to delete user")})).catch((function(e){console.log("Error occured",e)}))},color:"danger",children:"Confirm"})]})]}),(0,m.jsx)(o.Tk,{alignment:"center",visible:je,onClose:function(){return fe(!0)},children:(0,m.jsx)(o.sD,{children:(0,m.jsxs)("div",{className:"text-dark d-flex justify-content-center flex-column",children:[(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)(o.DW,{src:"https://images-na.ssl-images-amazon.com/images/I/711NDQNFqxL.png",width:90,height:90})}),(0,m.jsxs)("span",{style:{fontSize:"13px"},className:"text-center",children:["  Your account is completely deleted. We will miss you so badly!,\n                 If you want to rejoin with us to track your  diabetes activity. You have an option to rejoin \ud83d\ude0a",(0,m.jsx)("a",{href:"http://localhost:3000/#/register",children:"Click here to rejoin"})," Thank You!"]})]})})})]})]})]})}}}]);
//# sourceMappingURL=836.16c5c39f.chunk.js.map