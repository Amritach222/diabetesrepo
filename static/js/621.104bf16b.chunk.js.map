{"version":3,"file":"static/js/621.104bf16b.chunk.js","mappings":"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","sources":["../node_modules/@coreui/icons/js/free/cil-pencil.js","views/profile/Profile.js"],"sourcesContent":["export const cilPencil = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>\"]","import React, {useEffect, useState} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardLink,\n  CCardSubtitle,\n  CCardText,\n  CCardTitle,\n  CForm,\n  CFormInput,\n  CImage\n} from \"@coreui/react\";\nimport {toast, ToastContainer} from 'react-toastify'\nimport p_image from './pexels-tomÃ©-louro-1666779.jpg'\nimport {cilAudioSpectrum, cilPencil} from \"@coreui/icons\";\nimport CIcon from \"@coreui/icons-react\";\nimport Axios from \"axios\";\n// Import toastify css file\nimport 'react-toastify/dist/ReactToastify.css';\nconst Profile =()=>{\n  //setprofile\n  const [username,setUsername]=useState('')\n  const [age,setAge]=useState('')\n  const [weight,setWeight]=useState('')\n  const [email,setEmail]=useState('')\n  const [file, setFile] = useState({preview:'',data:''});// This state  for set Image\n  useEffect(()=>{\n    const userId=window.localStorage.getItem('userId')\n    Axios.put('http://localhost:3001/api/users/getprofile',{id:userId})\n      .then((res)=>{\n        if(res.data.data){\n          const image_path=res.data.data.image\n          let path=image_path.substr(7); // Removing 'public/' from image url\n          setFile({preview:'http://localhost:3001/'+path})\n          setUsername(res.data.data.name);\n          setAge(res.data.data.age)\n          setWeight(res.data.data.weight)\n          setEmail(res.data.data.email)\n        }\n      }).catch((err)=>{\n      console.log(\"Something went wrong\", err)\n    })\n    },[]\n  )\n  const [validated, setValidated] = useState(false)\n  // change image state\n  const [image, setImage]=useState(p_image)\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    const userId=window.localStorage.getItem('userId')\n    // create instane of FormData to upload an image\n    const formData= new FormData();\n    formData.append(\"profileImage\",file.data)\n    formData.append(\"username\",username)\n    formData.append(\"age\",age)\n    formData.append(\"weight\",weight)\n    formData.append(\"email\",email)\n    formData.append(\"id\",userId)\n\n    const form = event.currentTarget\n    if (form.checkValidity() === false) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n      setUsername(event.target.username.value)\n      setAge(event.target.age.value)\n      setWeight(event.target.weight.value)\n      setEmail(event.target.email.value)\n    console.log(age)\n    await Axios.post('http://localhost:3001/api/users/updateuser',\n      formData\n    ).then((res)=>{\n      if (res.data.message){\n\n        toast(res.data.message);\n      }\n      else{\n        console.log(\"something went wrong\")\n      }\n    }).catch((err)=>{\n      console.log(\"error occured\",err.message)\n    })\n    setValidated(true)\n  }\n  const changeUsername=(e)=>{\n    setUsername(e.target.value)\n  }\n  const changeAge=(e)=>{\n    setAge(e.target.value)\n  }\n  const changeWeight=(e)=>{\n    setWeight(e.target.value)\n  }\n  const changeEmail=(e)=>{\n    setEmail(e.target.value)\n  }\nconst changeProfileImage=(e)=>{\n  const img = {\n    preview: URL.createObjectURL(e.target.files[0]),\n    data: e.target.files[0],\n  }\n  setFile(img)\n}\n  return (\n    <div>\n      <ToastContainer/>\n      <CCard >\n        <CCardBody>\n\n          <div className=\"card_container d-flex justify-content-around flex-wrap\">\n            <div className=\"card_container_left mt-4\">\n          <div className=\"position-relative\" >\n            <CImage rounded src={file.preview} width={200} height={200} />\n          </div>\n            </div>\n            <div className=\"card_container_right\">\n              <div className=\"d-flex align-items-center ms-1\">\n              <b> Update your profile</b> <CIcon className=\"ms-1\" style={{background:\"lightgray\", borderRadius:'50%' ,color:'green', padding:'1px'}} icon={cilPencil} />\n              </div>\n          <CCardText>\n            <CCard className=\"p-4\">\n            <CForm\n              encType=\"multipart/form-data\"\n              className=\"row g-3 needs-validation\"\n              noValidate\n              validated={validated}\n              onSubmit={handleSubmit}\n            >\n              <div className=\"name_container\">\n              <CFormInput\n                value={username}\n                contentEditable={true}\n                type=\"text\"\n                name=\"username\"\n                feedbackValid=\"Looks good!\"\n                id=\"validationCustom01\"\n                label=\"Username\"\n                onChange={(e)=>{changeUsername(e)}}\n                required\n              />\n              </div>\n              <div className=\"age_container\">\n                <CFormInput\n                  value={age}\n                  contentEditable={true}\n                  type=\"number\"\n                  name=\"age\"\n                  feedbackValid=\"Looks good!\"\n                  id=\"validationCustom01\"\n                  label=\"Age\"\n                  onChange={(e)=>{changeAge(e)}}\n                  required\n                />\n                <div className=\"weight_container\">\n                  <CFormInput\n                    value={weight}\n                    contentEditable=\"true\"\n                    type=\"number\"\n                    name=\"weight\"\n                    feedbackValid=\"Looks good!\"\n                    id=\"validationCustom01\"\n                    label=\"Weight\"\n                    onChange={(e)=>{changeWeight(e)}}\n                    required\n                  />\n              </div>\n                <div className=\"email_container\">\n                  <CFormInput\n                    value={email}\n                    type=\"email\"\n                    name=\"email\"\n                    contentEditable=\"true\"\n                    feedbackValid=\"Looks good!\"\n                    id=\"validationCustom01\"\n                    label=\"Email\"\n                    onChange={(e)=>{changeEmail(e)}}\n                    required\n                  />\n                </div>\n                <div className=\"image_container\">\n                  <CFormInput\n                    style={{border:'none'}}\n                    type=\"file\"\n                    name=\"profileImage\"\n                    feedbackValid=\"Looks good!\"\n                    id=\"validationCustom01\"\n                    label=\"Choose your profile image\"\n                    onChange={(e)=>{changeProfileImage(e)}}\n                    required\n                  />\n                </div>\n              <div className=\"mt-2 float-end\">\n                <CButton color=\"success\" type=\"submit\" variant=\"outline\">Save Changes</CButton>\n              </div>\n              </div>\n              </CForm>\n            </CCard>\n          </CCardText>\n            </div>\n          </div>\n        </CCardBody>\n      </CCard>\n    </div>\n  )\n}\nexport default  Profile;\n"],"names":["cilPencil","useState","username","setUsername","age","setAge","weight","setWeight","email","setEmail","preview","data","file","setFile","useEffect","userId","window","localStorage","getItem","Axios","id","then","res","path","image","substr","name","catch","err","console","log","validated","setValidated","p_image","handleSubmit","event","preventDefault","formData","FormData","append","currentTarget","checkValidity","stopPropagation","target","value","message","toast","className","rounded","src","width","height","style","background","borderRadius","color","padding","icon","encType","noValidate","onSubmit","contentEditable","type","feedbackValid","label","onChange","e","changeUsername","required","changeAge","changeWeight","changeEmail","border","img","URL","createObjectURL","files","changeProfileImage","variant"],"sourceRoot":""}