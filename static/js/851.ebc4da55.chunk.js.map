{"version":3,"file":"static/js/851.ebc4da55.chunk.js","mappings":"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","sources":["views/profile/Profile.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardLink,\n  CCardSubtitle,\n  CCardText,\n  CCardTitle,\n  CForm,\n  CFormInput,\n  CImage\n} from \"@coreui/react\";\nimport {toast, ToastContainer} from 'react-toastify'\nimport { cilPencil} from \"@coreui/icons\";\nimport CIcon from \"@coreui/icons-react\";\nimport Axios from \"axios\";\n// Import toastify css file\nimport 'react-toastify/dist/ReactToastify.css';\nconst Profile =()=>{\n  //setprofile\n  const [fullname,setFullname]=useState('')\n  const [username,setUsername]=useState('')\n  const [age,setAge]=useState('')\n  const [weight,setWeight]=useState('')\n  const [email,setEmail]=useState('')\n  const [file, setFile] = useState({preview:'',data:''});// This state  for set Image\n  useEffect(()=>{\n    const userId=window.localStorage.getItem('userId')\n    Axios.put('http://localhost:3001/api/users/getprofile',{id:userId})\n      .then((res)=>{\n        if(res.data.data){\n          const image_path=res.data.data.image\n          let path=image_path.substr(7); // Removing 'public/' from image url\n          setFile({preview:'http://localhost:3001/'+path})\n          setFullname(res.data.data.fullname)\n          setUsername(res.data.data.name);\n          setAge(res.data.data.age)\n          setWeight(res.data.data.weight)\n          setEmail(res.data.data.email)\n        }\n      }).catch((err)=>{\n      console.log(\"Something went wrong\", err)\n    })\n    },[]\n  )\n  const [validated, setValidated] = useState(false)\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    const userId=window.localStorage.getItem('userId')\n    // create instane of FormData to upload an image\n    const formData= new FormData();\n    formData.append(\"profileImage\",file.data)\n    formData.append(\"username\",username)\n    formData.append(\"age\",age)\n    formData.append(\"weight\",weight)\n    formData.append(\"email\",email)\n    formData.append(\"id\",userId)\n\n    const form = event.currentTarget\n    if (form.checkValidity() === false) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n    else {\n      setUsername(event.target.username.value)\n      setAge(event.target.age.value)\n      setWeight(event.target.weight.value)\n      setEmail(event.target.email.value)\n      console.log(age)\n      await Axios.post('http://localhost:3001/api/users/updateuser',\n        formData\n      ).then((res) => {\n        if (res.data.message) {\n\n          toast(res.data.message);\n        } else {\n          console.log(\"something went wrong\")\n        }\n      }).catch((err) => {\n        console.log(\"error occured\", err.message)\n      })\n    }\n    setValidated(true)\n  }\n  const changeUsername=(e)=>{\n    setUsername(e.target.value)\n  }\n  const changeAge=(e)=>{\n    setAge(e.target.value)\n  }\n  const changeWeight=(e)=>{\n    setWeight(e.target.value)\n  }\n  const changeEmail=(e)=>{\n    setEmail(e.target.value)\n  }\nconst changeProfileImage=(e)=>{\n  const img = {\n    preview: URL.createObjectURL(e.target.files[0]),\n    data: e.target.files[0],\n  }\n  setFile(img)\n}\n  return (\n    <div>\n      <ToastContainer/>\n      <CCard >\n        <CCardBody>\n\n          <div className=\"card_container d-flex justify-content-around flex-wrap\">\n            <div className=\"card_container_left mt-4  \">\n          <div className=\"position-relative mb-2\" >\n            <CImage rounded src={file.preview} width={200} height={200} />\n          </div>\n              <p className=\"ms-5\"><b>{fullname}</b></p>\n            </div>\n            <div className=\"card_container_right\">\n              <div className=\"d-flex align-items-center ms-1\">\n              <b> Update your profile</b> <CIcon className=\"ms-1\" style={{background:\"lightgray\", borderRadius:'50%' ,color:'green', padding:'1px'}} icon={cilPencil} />\n              </div>\n          <CCardText>\n            <CCard className=\"p-4\">\n            <CForm\n              encType=\"multipart/form-data\"\n              className=\"row g-3 needs-validation\"\n              noValidate\n              validated={validated}\n              onSubmit={handleSubmit}\n            >\n              <div className=\"name_container\">\n              <CFormInput\n                value={username}\n                contentEditable={true}\n                type=\"text\"\n                name=\"username\"\n                feedbackValid=\"Looks good!\"\n                id=\"validationCustom01\"\n                label=\"Username\"\n                onChange={(e)=>{changeUsername(e)}}\n                required\n                disabled\n              />\n              </div>\n              <div className=\"age_container\">\n                <CFormInput\n                  value={age}\n                  contentEditable={true}\n                  type=\"number\"\n                  name=\"age\"\n                  feedbackValid=\"Looks good!\"\n                  id=\"validationCustom01\"\n                  label=\"Age\"\n                  onChange={(e)=>{changeAge(e)}}\n                  required\n                />\n                <div className=\"weight_container\">\n                  <CFormInput\n                    value={weight}\n                    contentEditable=\"true\"\n                    type=\"number\"\n                    name=\"weight\"\n                    feedbackValid=\"Looks good!\"\n                    id=\"validationCustom01\"\n                    label=\"Weight\"\n                    onChange={(e)=>{changeWeight(e)}}\n                    required\n                  />\n              </div>\n                <div className=\"email_container\">\n                  <CFormInput\n                    value={email}\n                    type=\"email\"\n                    name=\"email\"\n                    contentEditable=\"true\"\n                    feedbackValid=\"Looks good!\"\n                    id=\"validationCustom01\"\n                    label=\"Email\"\n                    onChange={(e)=>{changeEmail(e)}}\n                    required\n                  />\n                </div>\n                <div className=\"image_container\">\n                  <CFormInput\n                    style={{border:'none'}}\n                    type=\"file\"\n                    name=\"profileImage\"\n                    feedbackValid=\"Looks good!\"\n                    id=\"validationCustom01\"\n                    label=\"Choose your profile image\"\n                    onChange={(e)=>{changeProfileImage(e)}}\n                    required\n                  />\n                </div>\n              <div className=\"mt-2 float-end\">\n                <CButton color=\"success\" type=\"submit\" variant=\"outline\">Save Changes</CButton>\n              </div>\n              </div>\n              </CForm>\n            </CCard>\n          </CCardText>\n            </div>\n          </div>\n        </CCardBody>\n      </CCard>\n    </div>\n  )\n}\nexport default  Profile;\n"],"names":["useState","fullname","setFullname","username","setUsername","age","setAge","weight","setWeight","email","setEmail","preview","data","file","setFile","useEffect","userId","window","localStorage","getItem","Axios","id","then","res","path","image","substr","name","catch","err","console","log","validated","setValidated","handleSubmit","event","preventDefault","formData","FormData","append","currentTarget","checkValidity","stopPropagation","target","value","message","toast","className","rounded","src","width","height","style","background","borderRadius","color","padding","icon","cilPencil","encType","noValidate","onSubmit","contentEditable","type","feedbackValid","label","onChange","e","changeUsername","required","disabled","changeAge","changeWeight","changeEmail","border","img","URL","createObjectURL","files","changeProfileImage","variant"],"sourceRoot":""}