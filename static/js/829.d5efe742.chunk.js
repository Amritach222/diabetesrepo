"use strict";(self.webpackChunkdiabetestrackerapp=self.webpackChunkdiabetestrackerapp||[]).push([[829],{37250:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var o=a(4942),n=a(1413),r=a(70885),c=a(72791),s=a(74569),l=a.n(s),i=a(78983),d=a.p+"static/media/regular-checkups_banner.dceb74eb826b7db9bef8.jpg",m=a(80184),u=function(){var e=(0,c.useState)(!1),t=(0,r.Z)(e,2),a=t[0],s=t[1],u=(0,c.useState)(!1),h=(0,r.Z)(u,2),p=h[0],x=h[1],f=(0,c.useState)(""),j=(0,r.Z)(f,2),b=j[0],g=j[1],v=(0,c.useState)({doctorName:"",doctorEmail:"",doctorPhone:""}),N=(0,r.Z)(v,2),E=N[0],y=N[1],k=localStorage.getItem("userId");(0,c.useEffect)((function(){l().put("http://localhost:3001/api/doctors/getDoctor/",{user_id:k}).then((function(e){if(e.data.data){var t=e.data.data;s({name:t.name,email:t.email,phone:t.phone})}else console.log("Fetching Error"),s(!1)})).catch((function(e){console.log(e)}))}),[E]);var P=function(e){var t=e.target.name,a=e.target.value;y((0,n.Z)((0,n.Z)({},E),{},(0,o.Z)({},t,a))),console.log(t,a)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(i.xH,{className:a?"doctorform p-5":"p-5",children:(0,m.jsxs)(i.lx,{className:"g-3 needs-validation",noValidate:!0,validated:p,onSubmit:function(e){if(!1===e.currentTarget.checkValidity())e.stopPropagation(),e.preventDefault();else{var t=E.doctorName,a=E.doctorEmail,o=E.doctorPhone;console.log(E),o.length<10?(g("Must be a 10 digit number"),e.preventDefault()):l().post("http://localhost:3001/api/doctors/",{doctorName:t,doctorEmail:a,doctorPhone:o,user_id:k}).then((function(e){1==e.data.success?s({name:t,email:a,phone:o}):alert("Not Submitted")})).catch((function(e){console.log(e)})),x(!0)}},children:[(0,m.jsx)("h3",{children:"Add your doctor"}),(0,m.jsxs)("div",{className:"mb-3 d-flex justify-content-between flex-wrap align-items-center",children:[(0,m.jsx)("div",{className:"name_container",children:(0,m.jsx)(i.jO,{name:"doctorName",value:E.doctorName,type:"text",label:"Enter Name",required:!0,onChange:P})}),(0,m.jsx)("div",{className:"email_container",children:(0,m.jsx)(i.jO,{name:"doctorEmail",value:E.doctorEmail,type:"email",label:"Enter Email Address",required:!0,onChange:P})}),(0,m.jsxs)("div",{className:"phone_container mt-4",children:[(0,m.jsx)(i.jO,{name:"doctorPhone",value:E.doctorPhone,type:"number",label:"Enter Phone number",required:!0,onChange:P}),(0,m.jsx)("span",{className:"text-danger ms-1",children:b})]})]}),(0,m.jsx)("div",{className:"mb-3 float-end",children:(0,m.jsx)(i.u5,{color:"primary",type:"submit",variant:"outline",children:"Add Doctor"})})]})}),(0,m.jsxs)(i.xH,{style:{width:"18rem"},className:a?"":"doctorform",children:[(0,m.jsx)(i.pX,{orientation:"top",src:d}),(0,m.jsxs)(i.sl,{children:[(0,m.jsx)(i.tj,{children:a.name}),(0,m.jsxs)(i.uS,{children:["Email:"," "+a.email," ",(0,m.jsx)("br",{}),"Phone: "," "+a.phone]})]})]})]})}}}]);
//# sourceMappingURL=829.d5efe742.chunk.js.map