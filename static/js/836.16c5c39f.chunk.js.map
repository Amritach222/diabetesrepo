{"version":3,"file":"static/js/836.16c5c39f.chunk.js","mappings":"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","sources":["../node_modules/@coreui/icons/js/free/cil-delete.js","views/settings/Settings.js"],"sourcesContent":["export const cilDelete = [\"512 512\",\"<polygon fill='var(--ci-primary-color, currentColor)' points='227.313 363.313 312 278.627 396.687 363.313 419.313 340.687 334.627 256 419.313 171.313 396.687 148.687 312 233.373 227.313 148.687 204.687 171.313 289.373 256 204.687 340.687 227.313 363.313' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M472,64H194.644a24.091,24.091,0,0,0-17.42,7.492L16,241.623v28.754L177.224,440.508A24.091,24.091,0,0,0,194.644,448H472a24.028,24.028,0,0,0,24-24V88A24.028,24.028,0,0,0,472,64Zm-8,352H198.084L48,257.623v-3.246L198.084,96H464Z' class='ci-primary'/>\"]","import React, {useState} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCardText,\n  CCardTitle,\n  CCol,\n  CForm,\n  CFormInput, CImage,\n  CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle\n} from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport {cilDelete, cilSettings, cilWarning} from \"@coreui/icons\";\nimport Axios from \"axios\";\nimport {toast, ToastContainer} from 'react-toastify'\n// Import toastify css file\nimport 'react-toastify/dist/ReactToastify.css';\nconst Settings=()=>{\n  const id= localStorage.getItem(\"userId\")\n  const [password, setPassword]=useState('')\n  const [matcherror, setMatcherror]=useState('')\n  const [cpassword, setCpassword]=useState('')\n  const [perror, setPerror]=useState('')\n  const [openpassword,setOpenpassword]=useState(false)\n  const [validated, setValidated] = useState(false)\n  const [opendoctor,setOpendoctor]=useState(false)\n  const [name,setName]=useState('')\n  const [email,setEmail]=useState('')\n  const [phone,setPhone]=useState('')\n  const [emailerror,setEmailerror]=useState('')\n  const [phoneerror,setPhoneerror]=useState('')\n  const [doctorerror,setDoctorerror]=useState('')\n  const [visible, setVisible] = useState(false)\n  const [deletetext, setDeletetext] = useState(false)\n  const handleSubmit = (event) => {\n    const form = event.currentTarget\n    if (form.checkValidity() === false) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n    setValidated(true)\n  }\n  const getPassword =(e)=>{\n      if (e.target.value.length<8){\n        setPerror(\"Password must have at least 8 characters.\")\n      }else{\n        setPerror('')\n        setPassword(e.target.value)\n      }\n  }\n  const matchPassword =(e)=>{\n    if(password!='' || cpassword!='') {\n      if (password.length>=8){\n      if (password===cpassword) {\n        Axios.put('http://localhost:3001/api/users/updatepassword', {\n          id: id,\n          password:password\n        }).then((res) => {\n          if (res.data.message) {\n            toast(res.data.message)\n            setMatcherror('')\n          }\n        }).catch((error) => {\n          console.log(\"Error Occured\", error)\n        })\n      }\n      else {\n        setMatcherror(\"Password must be matched\")\n      }\n      }\n    }\n  }\n  //open Change password form\n  const changePassword=()=>{\n    setOpenpassword(!openpassword)\n  }\n  //Open change doctor form\n  const changeDoctor=()=>{\n    setOpendoctor(!opendoctor)\n  }\n  // handle doctor field empty\n  const handleDoctorerror=()=>{\n    const pattern = /[a-zA-Z0-9]+[\\.]?([a-zA-Z0-9]+)?[\\@][a-z]{3,9}[\\.][a-z]{2,5}/g;\n    if (name==='' || email==='' || phone===''){\n      setDoctorerror(\"Fields can't be empty\")\n    }\n    else{\n      setDoctorerror('')\n      if(pattern.test(email)){\n        setEmailerror('')\n        if(phone.length!==10){\n          setPhoneerror(\"Phone number must have 10 digit\")\n        }else{\n          setPhoneerror('')\n          Axios.put('http://localhost:3001/api/doctors/updatedoctor/',\n            {\n              id:id,\n              name:name,\n              email:email,\n              phone:phone\n            }).then((res)=>{\n              if(res.data.success===1){\n                toast(res.data.message);\n              }\n          }).catch((err)=>{\n            console.log(\"Error occured\", err)\n          })\n        }\n      }\n      else{\n        setEmailerror(\"Invalid email\")\n      }\n\n    }\n  }\n  // This is distructive function which deletes overall account of a user\n  const deleteAccount=()=>{\n        Axios.put('http://localhost:3001/api/users/getprofile',{\n          id:id\n        }).then((res)=>{\n          if(res.data.data){\n            const username=res.data.data.name\n            console.log(username)\n            Axios.put('http://localhost:3001/api/users/deleteaccount/',\n              {\n                id:id,\n                username:username\n              }).then((res)=>{\n                if(res.data.message){\n                  toast(\"Deleted\")\n                  setVisible(false)\n                  setDeletetext(true)\n                  localStorage.removeItem(\"userId\");\n                }\n                else {\n                  toast(\"Something went wrong \")\n                }\n            })\n          }else{\n            toast(\"unable to delete user\")\n          }\n        }).catch((err)=>{\n          console.log(\"Error occured\",err)\n        })\n  }\n  return(\n    <div>\n      <ToastContainer/>\n      <CCard>\n        <CCardHeader><CIcon icon={cilSettings} /> Settings</CCardHeader>\n        <CCardBody>\n          <CCardTitle></CCardTitle>\n          <CButton onClick={()=>{changePassword()}} color=\"warning\" variant=\"outline\">Change Password</CButton>\n          <br/><div className={openpassword?'':'d-none'}>\n          <br/>\n            <CForm\n              className=\"row g-3 needs-validation d-flex\"\n              noValidate\n              validated={validated}\n              onSubmit={handleSubmit}\n            >\n              <CCol md={4}>\n                <CFormInput\n                  type=\"password\"\n                  feedbackValid=\"Looks good!\"\n                  id=\"validationCustom01\"\n                  label=\"Password\"\n                  required\n                  onChange={(e)=>{getPassword(e)}}\n                />\n                <small style={{color:\"red\"}}>{perror}</small>\n              </CCol>\n              <CCol md={4}>\n                <CFormInput\n                  type=\"password\"\n                  feedbackValid=\"Looks good!\"\n                  id=\"validationCustom02\"\n                  label=\"Confirm Password\"\n                  onChange={(e)=>{setCpassword(e.target.value)}}\n                  required\n                />\n                <small style={{color:\"red\"}}>{matcherror}</small>\n              </CCol>\n              <CCol className=\"d-flex justify-content-end align-items-center\" md={4}>\n              <CButton className=\"\" style={{width:'fit-content', height:'fit-content'}} color=\"info\" onClick={()=>{matchPassword()}}>Apply</CButton>\n              </CCol>\n              </CForm>\n          </div>\n            <br/>\n          <CButton onClick={()=>{changeDoctor()}} color=\"primary\" variant=\"outline\">Update your doctor</CButton>\n          <div className={opendoctor?'':'d-none'}>\n            <br/>\n            <CForm\n              className=\"row g-3 needs-validation d-flex\"\n              noValidate\n              validated={validated}\n              onSubmit={handleSubmit}\n            >\n              <CCol md={3}>\n                <CFormInput\n                  type=\"text\"\n                  value={name}\n                  feedbackValid=\"Looks good!\"\n                  id=\"validationCustom01\"\n                  label=\"Name\"\n                  required\n                  onChange={(e)=>{setName(e.target.value)}}\n                />\n              </CCol>\n              <CCol md={3}>\n                <CFormInput\n                  type=\"email\"\n                  value={email}\n                  feedbackValid=\"Looks good!\"\n                  id=\"validationCustom02\"\n                  label=\"Email\"\n                  onChange={(e)=>{setEmail(e.target.value)}}\n                  required\n                />\n                <small style={{color:\"red\"}}>{emailerror}</small>\n              </CCol>\n              <CCol md={3}>\n                <CFormInput\n                  type=\"number\"\n                  value={phone}\n                  feedbackValid=\"Looks good!\"\n                  id=\"validationCustom02\"\n                  label=\"Phone\"\n                  onChange={(e)=>{setPhone(e.target.value)}}\n                  required\n                />\n                <small style={{color:\"red\"}}>{phoneerror}</small>\n              </CCol>\n              <CCol className=\"d-flex justify-content-end align-items-center\" md={3}>\n                <CButton className=\"\" style={{width:'fit-content', height:'fit-content'}} color=\"info\" onClick={()=>{handleDoctorerror()}}>Apply</CButton>\n              </CCol>\n            </CForm>\n            <small style={{color:\"red\"}}>{doctorerror}</small>\n          </div>\n          <br/>\n          <div className=\"delete_account_container d-flex justify-content-center\" >\n            <br/>\n            <span onClick={()=>{setVisible(!visible)}} style={{color:'red', cursor:\"pointer\"}}><CIcon icon={cilDelete}/> <small>Delete Account</small></span>\n          </div>\n          <CModal alignment=\"center\" visible={visible} onClose={() => setVisible(false)}>\n            <CModalBody>\n              <div className=\"text-danger d-flex justify-content-center flex-column\">\n                <div className=\"text-center\">\n              <CIcon className=\"text-center\"  icon={cilWarning}/>\n                </div>\n                <span style={{fontSize:'13px'}} className=\"text-center\">\n                {`  Are you sure you want to delete your whole account?\\n\n                You'll lose everything. Usernames,\\n themes, the love we shared, likes messages,\\n\n                and everything you've ever posted will be gone forever. `}\n\n                </span>\n              </div>\n            </CModalBody>\n              <CModalFooter>\n                <CButton color=\"secondary\" onClick={() => setVisible(false)}>\n                  Close\n                </CButton>\n                <CButton onClick={()=>{\n                  deleteAccount()\n                }} color=\"danger\">Confirm</CButton>\n              </CModalFooter>\n          </CModal>\n          <CModal alignment=\"center\" visible={deletetext} onClose={() => setDeletetext(true)}>\n            <CModalBody>\n              <div className=\"text-dark d-flex justify-content-center flex-column\">\n                <div className=\"text-center\">\n                  <CImage   src=\"https://images-na.ssl-images-amazon.com/images/I/711NDQNFqxL.png\" width={90} height={90} />\n                </div>\n                <span style={{fontSize:'13px'}} className=\"text-center\">\n                {`  Your account is completely deleted. We will miss you so badly!,\n                 If you want to rejoin with us to track your  diabetes activity. You have an option to rejoin ðŸ˜Š`}\n                  <a href=\"http://localhost:3000/#/register\">Click here to rejoin</a> Thank You!\n                </span>\n              </div>\n            </CModalBody>\n\n          </CModal>\n        </CCardBody>\n      </CCard>\n    </div>\n  )\n}\n\nexport  default Settings;\n"],"names":["cilDelete","id","localStorage","getItem","useState","password","setPassword","matcherror","setMatcherror","cpassword","setCpassword","perror","setPerror","openpassword","setOpenpassword","validated","setValidated","opendoctor","setOpendoctor","name","setName","email","setEmail","phone","setPhone","emailerror","setEmailerror","phoneerror","setPhoneerror","doctorerror","setDoctorerror","visible","setVisible","deletetext","setDeletetext","handleSubmit","event","currentTarget","checkValidity","preventDefault","stopPropagation","icon","cilSettings","onClick","color","variant","className","noValidate","onSubmit","md","type","feedbackValid","label","required","onChange","e","target","value","length","getPassword","style","width","height","Axios","then","res","data","message","toast","catch","error","console","log","test","success","err","cursor","alignment","onClose","cilWarning","fontSize","username","removeItem","src","href"],"sourceRoot":""}