"use strict";(self.webpackChunkdiabetestrackerapp=self.webpackChunkdiabetestrackerapp||[]).push([[733],{7094:function(e,a,t){t.r(a),t.d(a,{default:function(){return j}});var s=t(74165),n=t(15861),i=t(4942),r=t(1413),l=t(70885),c=t(72791),o=t(43504),d=t(16871),h=t(78983),p=t(5037),x=t(36151),u=(t(24846),t(74569)),m=t.n(u),f=t.p+"static/media/loginAnimation.4bf3028edc6f8036181a.png",g=(t.p,t(80184)),j=function(e){var a=e.updateUser,t=(0,c.useState)(""),u=(0,l.Z)(t,2),j=u[0],b=u[1],v=(0,d.s0)(),w=(0,c.useState)({email:"",password:""}),y=(0,l.Z)(w,2),N=y[0],Z=y[1],k=function(e){var a=e.target.name,t=e.target.value;Z((0,r.Z)((0,r.Z)({},N),{},(0,i.Z)({},a,t))),b("")},S=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(t){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=N.email,i=N.password,""==n||""==i?b("Fields cannot be empty"):m().post("http://localhost:3001/api/users/login",{email:n,password:i}).then((function(e){if(0===e.data.success){var t=e.data.data;console.log(e.data),b("".concat(t))}1===e.data.success&&(m().put("http://localhost:3001/api/users/userbyemail",{email:n,password:i}).then((function(e){if(e.data.data){var a=e.data.data.id;console.log("data",e.data.data),localStorage.setItem("userId",a)}else console.log("data Not received")})).catch((function(e){console.log("Server error",e)})),a(N),v("/dashboard"))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,g.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:(0,g.jsx)(h.KB,{children:(0,g.jsx)(h.rb,{className:"justify-content-center",children:(0,g.jsx)(h.b7,{md:8,children:(0,g.jsxs)(h.dL,{style:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},children:[(0,g.jsx)(h.xH,{className:"p-4",children:(0,g.jsx)(h.sl,{children:(0,g.jsxs)(h.lx,{children:[(0,g.jsx)("h1",{children:"Login"}),(0,g.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),(0,g.jsx)(h.YR,{className:"mb-3",children:(0,g.jsx)(p.Z,{style:{width:"100%"},name:"email",id:"email",autoComplete:"off",value:N.email,onChange:k,label:"Email",type:"email",variant:"standard"})}),(0,g.jsx)(h.YR,{className:"mb-1",children:(0,g.jsx)(p.Z,{style:{width:"100%"},name:"password",id:"password",autoComplete:"off",value:N.password,onChange:k,label:"Password",type:"password",variant:"standard"})}),(0,g.jsxs)(h.rb,{children:[(0,g.jsx)("span",{className:"text-danger ms-1 mb-3",children:j}),(0,g.jsx)(h.b7,{xs:6,children:(0,g.jsx)(x.Z,{variant:"contained",type:"submit",onClick:S,children:"Log in"})}),(0,g.jsx)(h.b7,{xs:6,className:"text-right",children:(0,g.jsx)(h.u5,{color:"link",className:"px-0",style:{color:"blue",fontStyle:"italic",marginLeft:"8px"},children:"Forgot password?"})})]})]})})}),(0,g.jsx)(h.xH,{className:"text-black bg-gradient py-5",style:{width:"44%"},children:(0,g.jsx)(h.sl,{className:"text-center  d-flex justify-content-center align-items-center",children:(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{src:f,alt:"login",style:{overflow:"hidden",height:"100%",width:"100%"}}),(0,g.jsx)("h2",{children:"Sign up"}),(0,g.jsx)("p",{style:{fontSize:"1.2rem",fontFamily:"monospace"},children:"I didnt choose Diabetes but i can choose how i react to it."}),(0,g.jsx)(o.rU,{to:"/register",style:{textDecoration:"none"},children:(0,g.jsx)(x.Z,{variant:"contained",children:"Register"})})]})})})]})})})})})}}}]);
//# sourceMappingURL=733.9bcad683.chunk.js.map