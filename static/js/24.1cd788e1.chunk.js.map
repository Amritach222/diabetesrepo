{"version":3,"file":"static/js/24.1cd788e1.chunk.js","mappings":"wSA4KA,UAtJc,SAAC,GAAoB,IAAlBA,EAAiB,EAAjBA,WACTC,GAAWC,EAAAA,EAAAA,MACjB,GAAkCC,EAAAA,EAAAA,UAAS,CACzCC,MAAO,GACPC,SAAU,KAFZ,eAAOC,EAAP,KAAkBC,EAAlB,KASMC,EAAc,SAACC,GACnB,IAAMC,EAAOD,EAAME,OAAOD,KACpBE,EAAQH,EAAME,OAAOC,MAC3BL,GAAa,kBAAKD,GAAN,cAAkBI,EAAOE,MAIjCC,EAAS,yCAAG,WAAOC,GAAP,8EAEhBA,EAAEC,iBACMX,EAAoBE,EAApBF,MAAOC,EAAaC,EAAbD,SAGfW,IAAAA,KAAW,wCAAyC,CAClDZ,MAAOA,EACPC,SAAUA,IAETY,MAAK,SAACC,GAGiB,IAAnBA,EAAIC,KAAKC,SAEVC,MAAMH,EAAIC,KAAKA,MAGM,IAAnBD,EAAIC,KAAKC,UACXC,MAAMH,EAAIC,KAAKA,MACfH,IAAAA,IAAU,8CACR,CAACZ,MAAMA,IAAQa,MAAK,SAACC,GACnB,GAAGA,EAAIC,KAAKA,KAAK,CACf,IAAMG,EAAGJ,EAAIC,KAAKA,KAAKG,GACvBC,QAAQC,IAAI,OAAQN,EAAIC,KAAKA,MAC3BM,aAAaC,QAAQ,SAASJ,QAGhCC,QAAQC,IAAI,wBAEdG,OAAM,SAACC,GACTL,QAAQC,IAAI,eAAgBI,MAE9B5B,EAAWM,GACXL,EAAS,kBAIZ0B,OAAM,SAACT,GAENK,QAAQC,IAAIN,MAxCA,2CAAH,sDA4Cf,OAEE,gBAAKW,UAAU,yDAAf,UACE,SAAC,KAAD,WACE,SAAC,KAAD,CAAMA,UAAU,yBAAhB,UACE,SAAC,KAAD,CAAMC,GAAI,EAAV,UACE,UAAC,KAAD,CAAYC,MAAO,CAACC,UAAU,oEAA9B,WACE,SAAC,KAAD,CAAOH,UAAU,MAAjB,UACE,SAAC,KAAD,WACE,UAAC,KAAD,YACE,mCACA,cAAGA,UAAU,uBAAb,sCACA,SAAC,KAAD,CAAaA,UAAU,OAAvB,UAGE,SAAC,IAAD,CACAE,MAAO,CAAEE,MAAO,QAChBvB,KAAK,QACLY,GAAG,QACHY,aAAa,MACbtB,MAAON,EAAUF,MACjB+B,SAAU3B,EACV4B,MAAM,QACNC,KAAK,QACLC,QAAQ,gBAGV,SAAC,KAAD,CAAaT,UAAU,OAAvB,UAGE,SAAC,IAAD,CACAE,MAAO,CAAEE,MAAO,QAChBvB,KAAK,WACLY,GAAG,WACHY,aAAa,MACbtB,MAAON,EAAUD,SACjB8B,SAAU3B,EACV4B,MAAM,WACNC,KAAK,WACLC,QAAQ,gBAGV,UAAC,KAAD,YACE,SAAC,KAAD,CAAMC,GAAI,EAAV,UAGE,SAAC,IAAD,CACFD,QAAQ,YACRD,KAAK,SACLG,QAAS3B,EAHP,uBAQF,SAAC,KAAD,CAAM0B,GAAI,EAAGV,UAAU,aAAvB,UACE,SAAC,KAAD,CAASY,MAAM,OAAOZ,UAAU,OAAQE,MAAO,CACjDW,eAAgB,OAChBD,MAAO,MACPE,UAAW,SACXC,WAAY,OAJV,2CAaV,SAAC,KAAD,CAAOf,UAAU,8BAA8BE,MAAO,CAAEE,MAAO,MAAMY,WAAW,YAAhF,UACE,SAAC,KAAD,CAAWhB,UAAU,cAArB,UACE,4BACE,qCACA,cAAGE,MAAO,CAACe,SAAS,SAASC,WAAW,aAAxC,0EAGA,SAAC,KAAD,CAAMC,GAAG,YAAYjB,MAAO,CAAEW,eAAgB,QAA9C,UACA,SAAC,IAAD,CAAQJ,QAAQ,YAAhB","sources":["views/pages/login/Login.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link ,useNavigate} from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CInputGroup,\n  CInputGroupText,\n  CRow,\n} from '@coreui/react'\nimport TextField from '@mui/material/TextField'\nimport Button from '@mui/material/Button'\nimport CIcon from '@coreui/icons-react'\nimport { cilLockLocked, cilUser } from '@coreui/icons'\nimport Axios from 'axios'\n\nconst Login = ({ updateUser }) => {\n  const navigate = useNavigate();\n  const [userLogin, setuserLogin] = useState({\n    email: '',\n    password: '',\n  })\n\n  Login.propTypes = {\n    updateUser: PropTypes.object.isRequired,\n  }\n\n  const handleInput = (event) => {\n    const name = event.target.name\n    const value = event.target.value\n    setuserLogin({ ...userLogin, [name]: value })\n    // console.log(name, value)\n  }\n\n  const loginUser = async (e) => {\n    // <Link to='/' />\n    e.preventDefault()\n    const { email, password } = userLogin\n    // console.log(username)\n\n    Axios.post('http://localhost:3001/api/users/login', {\n      email: email,\n      password: password,\n    })\n      .then((res) => {\n        //handle error\n        // console.log(res)\n        if(res.data.success===0)\n        {\n          alert(res.data.data)\n        }\n        //handle success\n        if (res.data.success===1) {\n          alert(res.data.data);\n          Axios.put('http://localhost:3001/api/users/userbyemail',\n            {email:email}).then((res)=>{\n              if(res.data.data){\n                const id=res.data.data.id;\n                console.log(\"data\", res.data.data)\n                  localStorage.setItem('userId',id);\n              }\n              else{\n                console.log(\"data Not received\")\n              }\n          }). catch((error)=>{\n            console.log(\"Server error\", error)\n          })\n          updateUser(userLogin);\n          navigate('/dashboard')\n\n        }\n      })\n      .catch((res) => {\n        //handle error\n        console.log(res)\n      })\n  }\n\n  return (\n\n    <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\n      <CContainer >\n        <CRow className=\"justify-content-center\">\n          <CCol md={8}>\n            <CCardGroup style={{boxShadow:\"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\"}}>\n              <CCard className=\"p-4\" >\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className=\"text-medium-emphasis\">Sign In to your account</p>\n                    <CInputGroup className=\"mb-3\">\n                      \n\n                      <TextField\n                      style={{ width: '100%' }}\n                      name=\"email\"\n                      id=\"email\"\n                      autoComplete=\"off\"\n                      value={userLogin.email}\n                      onChange={handleInput}\n                      label=\"Email\"\n                      type=\"email\"\n                      variant=\"standard\"\n                    />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                     \n\n                      <TextField\n                      style={{ width: '100%' }}\n                      name=\"password\"\n                      id=\"password\"\n                      autoComplete=\"off\"\n                      value={userLogin.password}\n                      onChange={handleInput}\n                      label=\"Password\"\n                      type=\"password\"\n                      variant=\"standard\"\n                    />\n                    </CInputGroup>\n                    <CRow>\n                      <CCol xs={6}>\n        \n\n                        <Button\n                      variant=\"contained\"\n                      type=\"submit\"\n                      onClick={loginUser}\n                    \n                    >Log in</Button>\n                      </CCol>\n\n                      <CCol xs={6} className=\"text-right\">\n                        <CButton color=\"link\" className=\"px-0\"  style={{\n                      textDecoration: 'none',\n                      color: 'red',\n                      fontStyle: 'italic',\n                      marginLeft: '8px',\n                    }}>\n                          Forgot password?\n                        </CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n              <CCard className=\"text-black bg-gradient py-5\" style={{ width: '44%',background:\" #00a8e6\"}}>\n                <CCardBody className=\"text-center\">\n                  <div>\n                    <h2>Sign up</h2>\n                    <p style={{fontSize:\"1.2rem\",fontFamily:\"monospace\"}}>\n                    I didnt choose Diabetes but i can choose how i react to it.\n                    </p>\n                    <Link to=\"/register\" style={{ textDecoration: 'none'}}>\n                    <Button variant=\"contained\">Register</Button>\n                    </Link>\n                  </div>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\nexport default Login\n"],"names":["updateUser","navigate","useNavigate","useState","email","password","userLogin","setuserLogin","handleInput","event","name","target","value","loginUser","e","preventDefault","Axios","then","res","data","success","alert","id","console","log","localStorage","setItem","catch","error","className","md","style","boxShadow","width","autoComplete","onChange","label","type","variant","xs","onClick","color","textDecoration","fontStyle","marginLeft","background","fontSize","fontFamily","to"],"sourceRoot":""}